<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eagle Level - Lightweight</title>
    <style>
        body { margin: 0; background: #001a33; overflow: hidden; touch-action: none; font-family: sans-serif; }
        #ui { position: absolute; top: 10px; width: 100%; text-align: center; color: white; pointer-events: none; }
        canvas { display: block; }
    </style>
</head>
<body>

<div id="ui">
    <h2 style="margin:0;">ğŸ¦… Ø¬Ø¨Ø§Ù„ Ø§Ù„Ù†Ø³ÙˆØ±</h2>
    <p>Ø§Ø¶ØºØ· Ù„Ù„Ù‚ÙØ² - (Ù†Ø³Ø®Ø© Ø®ÙÙŠÙØ© Ø¶Ø¯ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚)</p>
</div>

<canvas id="G"></canvas>

<script>
    const cvs = document.getElementById('G');
    const c = cvs.getContext('2d');

    function res() { cvs.width = window.innerWidth; cvs.height = window.innerHeight; }
    window.addEventListener('resize', res); res();

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø°ÙƒÙŠØ© Ù„Ø§ ØªØ³Ø¨Ø¨ ØªØ¹Ù„ÙŠÙ‚
    const imgCat = new Image(); imgCat.src = 'https://img.icons8.com/color/96/cat--v1.png';
    const imgEagle = new Image(); imgEagle.src = 'https://img.icons8.com/color/150/eagle.png';

    let py = cvs.height / 2, pv = 0; 
    let ex = -100, ey = cvs.height / 2; 
    let pipes = [];
    let frameCount = 0;

    function draw() {
        // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡: ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ©
        c.fillStyle = '#001a33';
        c.fillRect(0, 0, cvs.width, cvs.height);

        pv += 0.5;
        py += pv;

        // Ø­Ø±ÙƒØ© Ø§Ù„Ù†Ø³Ø±
        ey += (py - ey) * 0.05;
        ex = Math.min(50, ex + 0.5);

        // Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚ (ØªØ¸Ù‡Ø± ÙƒÙ„ 100 Ø¥Ø·Ø§Ø± Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ø¶ØºØ·)
        if (pipes.length === 0 || pipes[pipes.length - 1].x < cvs.width - 320) {
            pipes.push({ x: cvs.width, h: Math.random() * (cvs.height - 300) + 50 });
        }

        c.fillStyle = "white";
        for (let i = pipes.length - 1; i >= 0; i--) {
            let p = pipes[i];
            p.x -= 5; // Ø³Ø±Ø¹Ø© Ù…Ø¹ØªØ¯Ù„Ø©
            
            c.fillRect(p.x, 0, 50, p.h);
            c.fillRect(p.x, p.h + 260, 50, cvs.height);

            // ØªØµØ§Ø¯Ù… Ù…Ø¨Ø³Ø· Ø¬Ø¯Ø§Ù‹
            if (90 > p.x && 50 < p.x + 50 && (py < p.h || py + 35 > p.h + 260)) {
                resetGame();
            }
            if (p.x < -60) pipes.splice(i, 1);
        }

        // Ø±Ø³Ù… Ø§Ù„Ù†Ø³Ø± (Ø¥Ø°Ø§ Ù„Ù… ØªØ­Ù…Ù„ Ø§Ù„ØµÙˆØ±Ø© ÙŠØ±Ø³Ù… Ù…Ø±Ø¨Ø¹ Ø£Ø­Ù…Ø±)
        if (imgEagle.complete) c.drawImage(imgEagle, ex, ey, 100, 100);
        else { c.fillStyle = "red"; c.fillRect(ex, ey, 60, 60); }

        // Ø±Ø³Ù… Ø§Ù„Ù‚Ø·Ø© (Ø¥Ø°Ø§ Ù„Ù… ØªØ­Ù…Ù„ Ø§Ù„ØµÙˆØ±Ø© ÙŠØ±Ø³Ù… Ù…Ø±Ø¨Ø¹ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ)
        if (imgCat.complete) c.drawImage(imgCat, 50, py, 45, 45);
        else { c.fillStyle = "orange"; c.fillRect(50, py, 40, 40); }

        if (py > cvs.height || py < 0 || 50 < ex + 30) resetGame();

        requestAnimationFrame(draw);
    }

    function resetGame() {
        py = cvs.height / 2; pv = 0;
        ex = -100; ey = cvs.height / 2;
        pipes = [];
    }

    window.onmousedown = () => { pv = -8; };
    window.ontouchstart = (e) => { e.preventDefault(); pv = -8; };

    draw();
</script>
</body>
</html>